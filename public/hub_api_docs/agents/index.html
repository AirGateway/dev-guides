<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.79.1" />
    <meta name="description" content="AirGateway dev guides">
<meta name="author" content="AirGateway">

    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <title>Agents :: AirGateway NDC APIs Development Guide</title>

    
    <link href="/css/nucleus.css?1613069331" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1613069331" rel="stylesheet">
    <link href="/css/hybrid.css?1613069331" rel="stylesheet">
    <link href="/css/featherlight.min.css?1613069331" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1613069331" rel="stylesheet">
    <link href="/css/auto-complete.css?1613069331" rel="stylesheet">
    <link href="/css/theme.css?1613069331" rel="stylesheet">
    <link href="/css/hugo-theme.css?1613069331" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1613069331"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77281199-4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-77281199-4');
    </script>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  </head>
  <body class="" data-url="/hub_api_docs/agents/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://dev-guides.airgateway.net">
  <i class="i-sprite-logo-airgateway hidden"></i>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1613069331"></script>
<script type="text/javascript" src="/js/auto-complete.js?1613069331"></script>
<script type="text/javascript">
    
        var baseurl = '\/';
    
</script>
<script type="text/javascript" src="/js/search.js?1613069331"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/getting_started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/">
          Getting Started
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/getting_started/authentication/" title="Authentication" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/authentication/">
          1 . Authentication
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/getting_started/sending_requests/" title="Sending Requests" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/sending_requests/">
          2 . Sending Requests
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/getting_started/multi-provider_requests/" title="Multi-provider requests" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/multi-provider_requests/">
          3 . Multi-provider requests
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/getting_started/single-provider_requests/" title="Single Provider Requests" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/single-provider_requests/">
          4 . Single Provider Requests
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ndc_json_api_docs/" title="NDC APIs Docs" class="dd-item 
        
        
        
        ">
      <a href="/ndc_json_api_docs/">
           NDC APIs Docs
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/hub_api_docs/" title="Hub API Docs" class="dd-item 
        parent
        
        
        ">
      <a href="/hub_api_docs/">
          Hub API Docs
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/hub_api_docs/consumers/" title="Consumers" class="dd-item 
        
        
        
        ">
      <a href="/hub_api_docs/consumers/">
          1 . Consumers
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/hub_api_docs/agencies/" title="Agencies" class="dd-item 
        
        
        
        ">
      <a href="/hub_api_docs/agencies/">
          2 . Agencies
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/hub_api_docs/agents/" title="Agents" class="dd-item 
        parent
        active
        
        ">
      <a href="/hub_api_docs/agents/">
          3 . Agents
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/hub_api_docs/keys/" title="Keys" class="dd-item 
        
        
        
        ">
      <a href="/hub_api_docs/keys/">
          4 . Keys
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/webhooks/" title="Webhooks" class="dd-item 
        
        
        
        ">
      <a href="/webhooks/">
           Webhooks
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/workflows/" title="Workflows" class="dd-item 
        
        
        
        ">
      <a href="/workflows/">
          Workflows
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/workflows/booking/" title="Booking" class="dd-item 
        
        
        
        ">
      <a href="/workflows/booking/">
          1 . Booking
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/workflows/servicing/" title="Servicing" class="dd-item 
        
        
        
        ">
      <a href="/workflows/servicing/">
          2 . Servicing
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/providers/" title="Providers List" class="dd-item 
        
        
        
        ">
      <a href="/providers/">
           Providers List
          
            <i class="fa fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>Links</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://agency.airgateway.net"><i class='fa fa-keyboard-o'></i> Agency Portal</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://docs.airgateway.net/"><i class='fa fa-bookmark'></i> Postman Samples</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://gitter.im/AirGateway/Lobby"><i class='fa fa-comments-o'></i> Gitter Support Chat</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
       
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fa fa-fw fa-history"></i> Clear History</a></li>         
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Made with <a href="http://gohugo.io/">Hugo</a>. <a href="http://getgrav.org">Grav</a> based <a href="https://github.com/matcornic/hugo-theme-learn"> theme</a>.</p>
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Home</a> > <a href='/hub_api_docs/'>Hub API Docs</a> > Agents
          
        
          
        
          
        
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#authenticating-agents">Authenticating agents</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Agents</h1>
          

        


<p>Finally, each agency can have many agents working there. We use this entity you trace the whole selling process to every user involved. When a user logs into your system, you&rsquo;ll have to send his/her key (token) credential so we can know who&rsquo;s performing the action and what consumer he/she belongs to (check Authentication in Gettin Started chapter).</p>
<hr>
<p><a href="https://hub.airgateway.net/api/static/swagger-ui/#!/Agents/post_agents">Agents</a> have some specific information about the user, but these are the most relevant:</p>
<ul>
<li>Username</li>
<li>Email</li>
<li>Agency id</li>
<li>Password</li>
</ul>
<p>If you ever want your users to login in our Bookingpad app directly, you&rsquo;ll have to share with them their username, agency name and password. You can check more information about <a href="https://github.com/AirGateway/bookingpad-app">Bookingpad authentication in the open source project</a>.</p>
<blockquote>
<p>All these steps can be done via our own hub application which you&rsquo;ll have access to</p>
</blockquote>
<h2 id="authenticating-agents">Authenticating agents</h2>
<p>In our bookingpad tool, agents can login using their username, agency and password. But sometimes, your needs include your users login only on your own app (which uses our JSON API) and you want them to use bookingpad only for something that your own app doesn&rsquo;t support (check <a href="https://dev-guides.airgateway.net/hub_api_docs">https://dev-guides.airgateway.net/hub_api_docs</a> to know how to create agents in your organization, you&rsquo;ll need to store all the agents information in your app).	 You can use our own bookingpad or a different instance you have in your servers, in this case we&rsquo;ll use our own bookingpad instance domain.
You can achieve this by using following process:</p>
<ul>
<li>
<p>Obtain access token for the user you want to auto-authenticate</p>
<ol>
<li>Call <a href="https://app.airgateway.net/api/login">https://app.airgateway.net/api/login</a></li>
<li>Send username, agencyID and password of the user you want to get the access token as data-binary</li>
<li>Example: <code>curl 'https://app.airgateway.net/api/login' -H 'pragma: no-cache' -H 'origin: https://yourdomain.com' -H 'accept-encoding: gzip, deflate, br' -H 'accept-language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6,it;q=0.5' -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36' -H 'content-type: application/json;charset=UTF-8' -H 'accept: application/json, text/plain, */*' -H 'cache-control: no-cache' -H 'authority: app.airgateway.net' -H 'referer: https://yourdomain.com' --data-binary '{&quot;username&quot;:&quot;agent&quot;, &quot;agencyID&quot;:&quot;agency&quot;, &quot;password&quot;:&quot;XXXXXXX&quot;}' --compressed</code></li>
<li>In order to make this work, please let us know the domain you&rsquo;ll call us from</li>
</ol>
</li>
<li>
<p>You&rsquo;ll receive an access token in the response which you&rsquo;ll have to add to the url you&rsquo;ll redirect your user to:</p>
<ul>
<li><a href="https://app.airgateway.net/login?access_token=XXXXXXXXXXXXXX">https://app.airgateway.net/login?access_token=XXXXXXXXXXXXXX</a></li>
</ul>
</li>
<li>
<p>If you want to send your users to our bookingpad once they have finished creating an order, so they can add ancillaries or seats, you can use &ldquo;redirect_url&rdquo; so once they are auto-logged they will be redirected to the page with the order they created:</p>
<ul>
<li><a href="https://app.airgateway.net/login?access_token=XXXXXXXXXXXXXX&amp;redirect_url=https://app.airgateway.net/orders/LH/AGW-XXXXXXX">https://app.airgateway.net/login?access_token=XXXXXXXXXXXXXX&amp;redirect_url=https://app.airgateway.net/orders/LH/AGW-XXXXXXX</a></li>
</ul>
</li>
</ul>


<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


        
            <a class="nav nav-prev" href="/hub_api_docs/agencies/" title="Agencies"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/hub_api_docs/keys/" title="Keys" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1613069331"></script>
    <script src="/js/perfect-scrollbar.min.js?1613069331"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1613069331"></script>
    <script src="/js/jquery.sticky.js?1613069331"></script>
    <script src="/js/featherlight.min.js?1613069331"></script>
    <script src="/js/html5shiv-printshiv.min.js?1613069331"></script>
    <script src="/js/highlight.pack.js?1613069331"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1613069331"></script>
    <script src="/js/learn.js?1613069331"></script>
    <script src="/js/hugo-learn.js?1613069331"></script>

    <link href="/mermaid/mermaid.css?1613069331" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1613069331"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    


    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
            if (!user) {
                window.netlifyIdentity.on("login", () => {
                document.location.href = "/admin/";
                });
            }
            });
        }
    </script>
  </body>
</html>


